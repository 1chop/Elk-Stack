## Automated ELK Stack Deployment

The files in this repository were used to configure the network depicted below.

<mxfile modified="2020-12-21T16:55:02.347Z" host="app.diagrams.net" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36" etag="4EcVSwwBzySaKKctLtbV" version="14.1.1" type="device"><diagram id="l2aKFoh6-Bn0gOPZ2l0T" name="Page-1">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</diagram></mxfile>]

These files have been tested and used to generate a live ELK deployment on Azure. They can be used to either recreate the entire deployment pictured above. Alternatively, select portions of the _____ file may be used to install only certain pieces of it, such as Filebeat.

  - _TODO: Enter the playbook file._

This document contains the following details:
- Description of the Topologu
- Access Policies
- ELK Configuration
  - Beats in Use
  - Machines Being Monitored
- How to Use the Ansible Build


### Description of the Topology

The main purpose of this network is to expose a load-balanced and monitored instance of DVWA, the D*mn Vulnerable Web Application.

Load balancing ensures that the application will be highly _____, in addition to restricting _____ to the network.
- _TODO: What aspect of security do load balancers protect? What is the advantage of a jump box?_

Integrating an ELK server allows users to easily monitor the vulnerable VMs for changes to the _____ and system _____.
- _TODO: What does Filebeat watch for?_
- _TODO: What does Metricbeat record?_

The configuration details of each machine may be found below.
_Note: Use the [Markdown Table Generator](http://www.tablesgenerator.com/markdown_tables) to add/remove values from the table_.

| Name     | Function | IP Address | Operating System |
|----------|----------|------------|------------------|
| Jump Box | Gateway  | 10.0.0.1   | Linux            |
| TODO     |          |            |                  |
| TODO     |          |            |                  |
| TODO     |          |            |                  |

### Access Policies

The machines on the internal network are not exposed to the public Internet. 

Only the _____ machine can accept connections from the Internet. Access to this machine is only allowed from the following IP addresses:
- _TODO: Add whitelisted IP addresses_

Machines within the network can only be accessed by _____.
- _TODO: Which machine did you allow to access your ELK VM? What was its IP address?_

A summary of the access policies in place can be found in the table below.

| Name     | Publicly Accessible | Allowed IP Addresses |
|----------|---------------------|----------------------|
| Jump Box | Yes/No              | 10.0.0.1 10.0.0.2    |
|          |                     |                      |
|          |                     |                      |

### Elk Configuration

Ansible was used to automate configuration of the ELK machine. No configuration was performed manually, which is advantageous because...
- _TODO: What is the main advantage of automating configuration with Ansible?_

The playbook implements the following tasks:
- _TODO: In 3-5 bullets, explain the steps of the ELK installation play. E.g., install Docker; download image; etc._
- ...
- ...

The following screenshot displays the result of running `docker ps` after successfully configuring the ELK instance.

![TODO: Update the path with the name of your screenshot of docker ps output](Images/docker_ps_output.png)

### Target Machines & Beats
This ELK server is configured to monitor the following machines:
- _TODO: List the IP addresses of the machines you are monitoring_

We have installed the following Beats on these machines:
- _TODO: Specify which Beats you successfully installed_

These Beats allow us to collect the following information from each machine:
- _TODO: In 1-2 sentences, explain what kind of data each beat collects, and provide 1 example of what you expect to see. E.g., `Winlogbeat` collects Windows logs, which we use to track user logon events, etc._

### Using the Playbook
In order to use the playbook, you will need to have an Ansible control node already configured. Assuming you have such a control node provisioned: 

SSH into the control node and follow the steps below:
- Copy the _____ file to _____.
- Update the _____ file to include...
- Run the playbook, and navigate to ____ to check that the installation worked as expected.

_TODO: Answer the following questions to fill in the blanks:_
- _Which file is the playbook? Where do you copy it?_
- _Which file do you update to make Ansible run the playbook on a specific machine? How do I specify which machine to install the ELK server on versus which to install Filebeat on?_
- _Which URL do you navigate to in order to check that the ELK server is running?

_As a **Bonus**, provide the specific commands the user will need to run to download the playbook, update the files, etc._
